#!/bin/sh

# We should fail if we encounter errors.
set -e

# We should run this from the working directory of this script.
cd $(readlink -f $(dirname "$0"))

# Create links of all our dot files.
for dotfile in $(find "dotfiles/" -type f); do
    ln -s $(readlink -f "$dotfile") ~/.$(basename "$dotfile")
done

#########################
# Software Installation #
#########################

# Generally useful utilities that need no explanation.
sudo yum install -y git
sudo yum install -y htop
sudo yum install -y jq

# Install ruby development environment. Seems to be an implicit dependency
# of command-t vim plugin.
sudo yum install -y ruby-devel

###########################
# Vim Plugin Installation #
###########################
git clone https://github.com/VundleVim/Vundle.vim.git ~/.vim/bundle/Vundle.vim
vim +PluginInstall +qall

#####################
# Git Configuration #
#####################

# Apparently git defaults to using 'vi' instead of 'vim', causing some
# unpleasant warnings when writing commit messages. Let's use 'vim'
# instead.
git config --global core.editor vim
